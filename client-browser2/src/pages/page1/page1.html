<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Mednuvem</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

      <h2>Pacientes</h2>
      <ion-searchbar [(ngModel)]="searchPatient" placeholder="Pesquisar..."
                     (valueChanged)="selectPatient($event)"
                     auto-complete [source]="getPatients.bind(this)"
                     [list-formatter]="patientAutocompleteListFormatter"
                     value-property-name="id"
                     display-property-name="name"
                     no-match-found-text="Nenhum paciente encontrado."
                     accept-user-input="false"
                     loading-text="Carregando..."
                     max-num-list="10"></ion-searchbar>


    <form (ngSubmit)="savePatient()">
          <ion-grid>
            <ion-row>
              <ion-item col-9>
                <ion-label floating>Nome completo</ion-label>
                <ion-input type="text" name="name" required></ion-input>
              </ion-item>
              <ion-item col-3>
                <ion-label floating>Convênio</ion-label>
                <ion-input type="text" name="medicalInsurance" required></ion-input>
              </ion-item>
            </ion-row>
            <ion-row>
                <ion-item col-9>
                  <ion-label floating>Endereço</ion-label>
                  <ion-input type="text" name="address"></ion-input>
                </ion-item>
                <ion-item col-3>
                  <ion-label floating>CPF</ion-label>
                  <ion-input type="text" name="taxIdNumber"></ion-input>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item col-9>
                  <ion-label floating>Email</ion-label>
                  <ion-input type="text" name="email"></ion-input>
                </ion-item>
                <ion-item col-3>
                  <ion-label floating>Última Consulta</ion-label>
                  <ion-input type="text" name="lastAppointment"></ion-input>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item col-9>
                  <ion-label floating>Telefone/Celular</ion-label>
                  <ion-input type="text" name="phoneNumber"></ion-input>
                </ion-item>
                <ion-item col-3>
                  <ion-label floating>D.N.</ion-label>
                  <ion-input type="text" name="birthDate"></ion-input>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item>
                  <ion-label floating>Responsável</ion-label>
                  <ion-input type="text" name="accountablePerson"></ion-input>
                </ion-item>
            </ion-row>
          </ion-grid>
          <div class="example-button-row" item-right>
              <button type="submit" ion-button secondary menuToggle>Salvar</button>
          </div>
    </form>

  <br>
  <br>
    <form (ngSubmit)="savePatient()">
        <ion-grid>
          <h2>Observações</h2>
          <ion-row>
            <ion-item>
              <ion-label floating>Notas</ion-label>
              <ion-input type="text" name="observations"></ion-input>
            </ion-item>
          </ion-row>
          <h2>Receita Médica</h2>
          <ion-row>
            <ion-item>
              <ion-input type="text" name="medicalReceipt"></ion-input>
            </ion-item>
          </ion-row>
        </ion-grid>
    </form>

  <br>
  <br>
    <form>
        <ion-grid>
          <h2>Importar pacientes</h2>
          <input type="file" name="files" (change)="onUploadPatientsSubmit($event)" multiple accept=".csv"/>
        </ion-grid>
    </form>

    <br>

</ion-content>
